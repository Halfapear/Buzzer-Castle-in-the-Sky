C51 COMPILER V9.54   MAIN                                                                  10/30/2023 22:42:53 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE INCDIR(..\Buzzer-Castle-in-the-Sky) DEBU
                    -G OBJECTEXTEND PRINT(.\Listings\main.lst) TABS(2) OBJECT(.\Objects\main.obj)

line level    source

   1          #include <REGX52.H>
   2          #include "Delay.h"
   3          #include "Time0.h"
*** WARNING C318 IN LINE 3 OF main.c: can't open file 'Time0.h'
   4          #include "Buzzer.h"
   5           
   6          //ËúÇÈ∏£Âô®Á´ØÂè£Ôºö
   7          sbit Buzzer=P2^5;
*** ERROR C141 IN LINE 7 OF main.c: syntax error near 'sbit'
   8           
   9          #define SPEED 460
  10          //Èü≥Á¨¶‰∏éÁ¥¢ÂºïÂØπÂ∫îË°®ÔºåPÔºö‰ºëÊ≠¢Á¨¶ÔºåLÔºö‰ΩéÈü≥ÔºåMÔºö‰∏≠Èü≥ÔºåHÔºöÈ´òÈü≥Ôºå‰∏ãÂàíÁ∫øÔºöÂçáÂçäÈü≥Á
             -¨¶Âè∑#
  11          #define P 0
  12          #define L1  1
  13          #define L1_ 2
  14          #define L2  3
  15          #define L2_ 4
  16          #define L3  5
  17          #define L4  6
  18          #define L4_ 7
  19          #define L5  8
  20          #define L5_ 9
  21          #define L6  10
  22          #define L6_ 11
  23          #define L7  12
  24          #define M1  13
  25          #define M1_ 14
  26          #define M2  15
  27          #define M2_ 16
  28          #define M3  17
  29          #define M4  18
  30          #define M4_ 19
  31          #define M5  20
  32          #define M5_ 21
  33          #define M6  22
  34          #define M6_ 23
  35          #define M7  24
  36          #define H1  25
  37          #define H1_ 26
  38          #define H2  27
  39          #define H2_ 28
  40          #define H3  29
  41          #define H4  30
  42          #define H4_ 31
  43          #define H5  32
  44          #define H5_ 33
  45          #define H6  34
  46          #define H6_ 35
  47          #define H7  36
  48          unsigned int FreqTable[] = {0,
  49            64303 ,63577 ,63691 ,63792 ,63892 ,63981 ,64070 ,64152 ,64229 ,64303 ,64372 ,64437 ,
  50            64499 ,64557 ,64612 ,64664 ,64713 ,64759 ,64803 ,64844 ,64883 ,64919 ,64954 ,64987 ,
  51            65018 ,65047 ,65074 ,65100 ,65125 ,65148 ,65169 ,65190 ,65209 ,65228 ,65245 ,65261
C51 COMPILER V9.54   MAIN                                                                  10/30/2023 22:42:53 PAGE 2   

  52          };
  53           
  54           
  55          // Á¨¨‰∏Ä‰∏™H2ÊÑèÊÄùÊòØÈ¢ëÁéáÔºõÁ¨¨‰∫å‰∏™4Ôºå‰ª£Ë°®‰∏Ä‰∏™4ÂàÜÈü≥Á¨¶ÔºõcodeÊòØÊää‰ª£Á†ÅÊîæÂà∞FlashÈáåÈù¢„ÄÇ
  56          unsigned char code Music[]={
  57            H2,4,
  58            M7,4,
  59            H1,4,
  60            M6,4,
  61            
  62            H2,4,
  63            M7,4,
  64            H1,4,
  65            M6,4,
  66          //  // Ê≥®ÈáäÈÉ®ÂàÜÊòØÈ´òÊΩÆÁöÑÂâçÈù¢ÈÉ®ÂàÜ
  67          //  M3,4+4+4+4,
  68          //  P,4+4,  
  69          //  P,2,  
  70          //  M1,2,
  71          //  M2,2,
  72          //  M1,2,
  73          //  M3,4+4+4+4,
  74          //  P,4+2,
  75          //  M1,2,
  76          //  M2,2,
  77          //  M1,2,
  78          //  M2,2,
  79          //  M3,2,
  80          //  //
  81          //  L6,4+2,
  82          //  M1,2,
  83          //  L6,4+2,
  84          //  M1,2,
  85          //  
  86          //  L6,4+2,
  87          //  M1,2,
  88          //  M2,4,
  89          //  M1,4,
  90          //  
  91          //  L7,4+4+4+4,
  92          //  P,4+4+4+4,
  93          //  
  94          //  //
  95          //  M3,4+4+4+4,
  96          //  P,4+4,  
  97          //  P,2,  
  98          //  M1,2,
  99          //  M2,2,
 100          //  M1,2,
 101          //  M3,4+4+4+4,
 102          //  P,4+2,
 103          //  M1,2,
 104          //  M2,2,
 105          //  M1,2,
 106          //  M2,2,
 107          //  M3,2,
 108          //  //
 109          //  L6,4+2,
 110          //  M1,2,
 111          //  L6,4+2,
 112          //  M1,2,
 113          //  
C51 COMPILER V9.54   MAIN                                                                  10/30/2023 22:42:53 PAGE 3   

 114          //  L6,4+2,
 115          //  M1,2,
 116          //  M3,4,
 117          //  M1,2,
 118          //  M2,2,
 119          //  
 120          //  L7,4+4+4+4,
 121          //  P,4+4+4+4,
 122            //
 123          //  H6,2,
 124          //  M1,2,
 125          //  M6,4+2+2+2,
 126          //  M5, 2,
 127          //  
 128          //  M6,4+2,
 129          //  M5,2,
 130          //  M6,2,
 131          //  M5,2,
 132          //  M6,2,
 133          //  
 134          //  M5,2+2,
 135          //  M3,2+2+4+4,
 136          //  P,4+4+4,
 137          //  H6,2,
 138          //  M1,2,
 139            //
 140          //  M6,4+2+2,
 141          //  M5,2,
 142          //  M6,2,
 143          //  M5,2,
 144           
 145          //  M7,4+2+2,
 146          //  M6,2,
 147          //  M7,2+2,
 148          //  M6,4,
 149          //  M3,2+2+4,
 150          //  
 151          //  P,4+4+2,
 152          //  M3,2,
 153          //  M5,2,
 154          //  M3,2,
 155            //
 156          //  M2,4+2,
 157          //  M3,2,
 158          //  M2,4+2,
 159          //  M3,2,
 160           
 161          //  M2,4+2,
 162          //  M3,2,
 163          //  M5,2,
 164          //  M3,2,
 165          //  M5,2,
 166          //  M3,2,
 167          //  
 168          //  M2,4+2,
 169          //  M3,2,
 170          //  M2,4+2,
 171          //  M3,2,
 172          //  
 173          //  M2,4+4+4,
 174          //  M1,2,
 175          //  M2,2,
C51 COMPILER V9.54   MAIN                                                                  10/30/2023 22:42:53 PAGE 4   

 176          //  //
 177          //  M3,4,
 178          //  M6,4,
 179          //  M1,4,
 180          //  M3,2,
 181           
 182          //  M2,4+2,
 183          //  M3,2,
 184          //  M2,4,
 185          //  M1,4,
 186            
 187          //  M6,4+4+4+4,
 188           
 189           
 190           
 191           
 192           
 193          // È´òÊΩÆÈÉ®ÂàÜ
 194            P,4+4+4,
 195            M6,2,
 196            M7,2,
 197            //
 198            M1,2,
 199            M2,2,
 200            M7,2,
 201            M1,2+4+2,
 202            M7,2,
 203            
 204            M1,2,
 205            M2,2,
 206            M7,2,
 207            M1,2+4+2,
 208            M2,2,
 209            
 210            M3,2,
 211            M2,2,
 212            M3,2,
 213            M2,2,
 214            M3,4+2,
 215            M2,2,
 216            
 217            M3,4,
 218            M5,4,
 219            M3,4,
 220            M6,2,
 221            M7,2,
 222            //
 223            M1,2,
 224            M2,2,
 225            M7,2,
 226            M1,2+4+2,
 227            M7,2,
 228            
 229            M1,2,
 230            M2,2,
 231            M7,2,
 232            M1,2+4+2,
 233            M2,2,
 234            
 235            M3,2,
 236            M2,2,
 237            M3,2,
C51 COMPILER V9.54   MAIN                                                                  10/30/2023 22:42:53 PAGE 5   

 238            M2,2,
 239            M3,4+2,
 240            M2,2,
 241            
 242            M3,4,
 243            M5,4,
 244            M3,4,
 245            M5,4,
 246            //
 247            M3,2+4,
 248            M5,2,
 249            M3,2+4,
 250            M5,2,
 251            
 252            M3,2,
 253            M5,2,
 254            M6,2,
 255            M3,2,
 256            M5,4,
 257            M5,4,
 258            
 259            M3,2+4,
 260            M5,2,
 261            M3,2+4,
 262            M5,2,
 263          //  
 264            M3,2,
 265            M5,2,
 266            M6,2,
 267            M3,2,
 268            M5,4,
 269            M5,2+2,
 270          //
 271            M3,4,
 272            M2,4,
 273            M2,4,
 274            M1,2,
 275            M3,2,
 276            
 277            M3,4,
 278            M2,4,
 279            M2,4,
 280            M1,2,
 281            M1,2,
 282            
 283            L6,4+4+4+4,
 284            P,4+4+4,
 285            M5,2+2,
 286           
 287            //
 288            M3,4,
 289            M2,4,
 290            M2,4,
 291            M1,2,
 292            M3,2,
 293            
 294            M3,4,
 295            M2,4,
 296            M2,4,
 297            M1,2,
 298            M1,2,
 299            
C51 COMPILER V9.54   MAIN                                                                  10/30/2023 22:42:53 PAGE 6   

 300            L6,4+4+4+4,
 301            P,4+4+4+4,
 302            
 303            0xFF
 304          };
 305            
 306           
 307           
 308           
 309          unsigned char FreqSelect,MusicSelect;
 310          void main(){
 311   1        // ÂàùÂßãÂåñÂÆöÊó∂Âô®
 312   1        Timer0Init();
 313   1        while(1){
 314   2          // Âà§Êñ≠ÊòØÂê¶ÊòØ‰ºëÊ≠¢Á¨¶
 315   2          if(Music[MusicSelect] != 0xFF){
 316   3            //ÂèëÂ£∞
 317   3          FreqSelect = Music[MusicSelect];
 318   3          MusicSelect++;
 319   3            //ÊåÅÁª≠Êó∂Èïø
 320   3          Delay(SPEED/4*Music[MusicSelect]);
 321   3          MusicSelect++;
 322   3          TR0 = 0;
 323   3          Delay(5);
 324   3          TR0 = 1;
 325   3          }else{
 326   3            TR0 = 0;
 327   3          while(1);
 328   3        }
 329   2        }
 330   1          
 331   1        }
 332           
 333           
 334          void Timer0_Routine() interrupt 1
 335          {
 336   1      if(FreqTable[FreqSelect]){
 337   2        TL0 = FreqTable[FreqSelect] % 256;    //ËÆæÁΩÆÂÆöÊó∂ÂàùÂßãÂÄº
 338   2        TH0 = FreqTable[FreqSelect] / 256;  
 339   2        Buzzer =! Buzzer; // Âìç
 340   2      }
 341   1          
 342   1        }

C51 COMPILATION COMPLETE.  1 WARNING(S),  1 ERROR(S)
